{"version":3,"sources":["utils/constants.js","actions/errors.js","reducers/auth.js","reducers/errors.js","reducers/profile.js","store/store.js","utils/common.js","utils/api.js","actions/profile.js","actions/auth.js","components/Login.js","pages/login_page.jsx","components/Register.js","pages/create_profile.jsx","components/CarUIMoveable.js","components/FileUpload.js","components/ImageSelector.js","components/Loading.js","components/CarUI.js","pages/carUI_page.jsx","pages/404.jsx","components/Profile.js","pages/profile_page.jsx","components/Logout.js","pages/logout_page.jsx","components/Header.js","router/appRouter.js","index.js"],"names":["BASE_API_URL","SIGN_IN","SIGN_OUT","GET_ERRORS","RESET_ERRORS","UPDATE_PROFILE","getErrors","errors","type","resetErrors","authReducer","state","action","user","errorsReducer","profileReducer","profile","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","auth","applyMiddleware","thunk","validateFields","fieldsToValidate","every","field","Object","values","setAuthHeader","token","localStorage","getItem","axios","defaults","headers","common","removeAuthHeader","get","url","params","a","shouldSetAuthHeader","shouldRemoveAuthHeader","result","post","updateProfile","initiateUpdateProfile","profileData","dispatch","data","history","push","response","initiateGetProfile","getProfile","Promise","resolve","reject","then","res","catch","err","signIn","initiateLogin","profile_name","password","setItem","console","log","initiateLogout","removeItem","registerNewUser","success","Login","error_msg","handleLogin","event","preventDefault","setState","signin_error","props","handleInputChange","target","name","value","prevProps","_","isEqual","this","className","Form","onSubmit","Group","controlId","Label","Control","placeholder","onChange","Button","variant","to","React","Component","connect","LoginPage","Register","confirm_password","success_msg","is_submitted","registerUser","signup_error","CreateProfilesPage","CarUIMoveable","resetState","bind","resetStates","frameFromStyle","extract","frame","translate","rotate","scale","transformOrigin","document","querySelector","moveableTarget","tempTarget","inputString","matchString","output","variables","match","split","i","length","replace","beginIndex","indexOf","substring","endIndex","style","transform","NaN","transformValues","parseInt","parseFloat","e","scalable","keepRatio","throttleScale","renderDirections","originDraggable","originRelative","draggable","throttleDrag","startDragRotate","throttleDragRotate","zoom","origin","padding","rotatable","throttleRotate","rotationPosition","onScaleStart","set","dragStart","onScale","beforeTranslate","drag","onScaleEnd","lastEvent","onDragOriginStart","onDragOrigin","onDragStart","onDrag","onRotateStart","onRotate","beforeRotate","onRender","FileUpload","useState","file","setFile","filename","setFilename","setUploadedFile","formData","FormData","append","fileName","filePath","onSuccessfulUpload","status","msg","id","files","htmlFor","ImageSelector","tock","setTock","defaultImages","setDefaultImages","userImages","setUserImages","user_token","fetchImages","profile_id","fetch","text","JSON","parse","map","d","onClick","imageChosen","src","alt","useEffect","skinColour","Loading","CarUI","createRef","moveableComponentReference","begin","setBegin","end","setEnd","show","setShow","handleClose","imgs","setImgs","loaded","setLoaded","selectedImg","setSelectedImg","localCopy","setLocalCopy","location","useLocation","undoStack","queryParams","temp","search","getQueryParams","tick","setTick","setImagesFromJSON","img_source","img_id","img_transform","img_transform_origin","zIndex","img_z_index","getImg","row","stringify","setLocalCopyWithUndo","getPageData","changeTarget","newTarget","startsWith","current","setLocalCopyFromPageData","normalizeZOrders","local","sort","b","onMouseDown","current_target","Date","pageData","ref","pop","method","body","alert","selected_img","max","numOccurences","num","min","href","Modal","onHide","opacity","Header","closeButton","Title","Body","imageUrl","addImgFun","Footer","CarUIPage","NotFoundPage","Profile","handleSubmit","update_error","handleOnChange","isEmpty","ProfilesPage","Logout","LogoutPage","useDispatch","setProfile","pathname","Navbar","Nav","Item","createBrowserHistory","exact","path","component","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.c6e2f7a5.chunk.js","sourcesContent":["export const BASE_API_URL = 'http://localhost:3001';\n\n//TODO: Not sure why BASE_API_URL is being added to all images in the web app, regardless of the fact it works without it?\n\n//Background Console Images\nexport const BG_WITH_SCREEN = BASE_API_URL + '/uploads/background_images/tesla_with_screen.png';\nexport const BG_SCREEN = BASE_API_URL + '/uploads/background_images/tesla_screen.png';\nexport const BG_GENERIC = BASE_API_URL + '/uploads/background_images/generic.png'\n\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const GET_ERRORS = 'GET_ERRORS';\nexport const RESET_ERRORS = 'RESET_ERRORS';\nexport const UPDATE_PROFILE = 'UPDATE_PROFILE';","import { GET_ERRORS, RESET_ERRORS } from '../utils/constants';\n\nexport const getErrors = (errors) => ({type: GET_ERRORS, errors});\n\nexport const resetErrors = () => ({type: RESET_ERRORS});","import { SIGN_IN, SIGN_OUT } from '../utils/constants';\n\nconst authReducer = (state = {}, action) => {\n    switch (action.type)\n    {\n        case SIGN_IN:\n            return action.user;\n        case SIGN_OUT:\n            return {};\n        default:\n            return state;\n    }\n};\n\nexport default authReducer;","import { GET_ERRORS, RESET_ERRORS } from '../utils/constants';\n\nconst errorsReducer = (state = {}, action) => {\n  switch (action.type) \n  {\n    case GET_ERRORS:\n      return action.errors;\n    case RESET_ERRORS:\n      return {};\n    default:\n      return state;\n  }\n};\n\nexport default errorsReducer;","import { UPDATE_PROFILE } from '../utils/constants';\n\n//POSSIBLE ERROR\nconst profileReducer = (state = {}, action) => {\n  switch (action.type) \n  {\n    case UPDATE_PROFILE:\n      return { ...action.profile };\n    default:\n      return state;\n  }\n};\n\nexport default profileReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport authReducer from '../reducers/auth';\nimport errorsReducer from '../reducers/errors';\nimport profileReducer from '../reducers/profile';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  combineReducers({auth: authReducer, errors: errorsReducer, profile: profileReducer}),\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;\n\n//Created a redux store with a single authentication reducer for now. We also added configuration for the redux dev tool to see realtime actions dispatched.","import axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport store from '../store/store';\nimport { initiateGetProfile } from '../actions/profile';\nimport { signIn } from '../actions/auth';\nimport { history } from '../router/appRouter';\n\n//Returns a bool\nexport const validateFields = (fieldsToValidate) => {\n  return fieldsToValidate.every((field) => Object.values(field)[0] !== '');\n};\n\nexport const maintainSession = () => {\n  const user_token = localStorage.getItem('user_token');\n  if (user_token) \n  {\n    const currentPath = window.location.pathname;\n    if (currentPath === '/' || currentPath === '/register') \n    {\n      history.push('/profile');\n    }\n    const decoded = jwt_decode(user_token);\n    updateStore(decoded);\n  } \n  else \n  {\n    history.push('/');\n  }\n};\n\nexport const updateStore = (user) => {\n  const {profile_id, profile_name} = user;\n  store.dispatch(signIn({profile_id, profile_name, token: localStorage.getItem('user_token')}));\n  store.dispatch(initiateGetProfile(profile_name));\n};\n\nexport const setAuthHeader = () => {\n  const token = localStorage.getItem('user_token');\n  if (token) \n  {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  }\n};\n\nexport const removeAuthHeader = () => {\n  delete axios.defaults.headers.common['Authorization'];\n};","import axios from 'axios';\nimport { setAuthHeader, removeAuthHeader } from './common';\n\nexport const get = async (url, params, shouldSetAuthHeader = true, shouldRemoveAuthHeader = false) => {\n  if (shouldSetAuthHeader) \n  {\n    setAuthHeader();\n  }\n  const result = await axios.get(url, params);\n  if (shouldRemoveAuthHeader) \n  {\n    removeAuthHeader();\n  }\n  return result;\n};\n\nexport const post = async (url, params, shouldSetAuthHeader = true, shouldRemoveAuthHeader = false) => {\n  if (shouldSetAuthHeader) \n  {\n    setAuthHeader();\n  }\n  const result = await axios.post(url, params);\n  if (shouldRemoveAuthHeader) \n  {\n    removeAuthHeader();\n  }\n  return result;\n};\n\nexport const patch = async (url, params, shouldSetAuthHeader = true, shouldRemoveAuthHeader = false) => {\n  if (shouldSetAuthHeader) \n  {\n    setAuthHeader();\n  }\n  const result = await axios.patch(url, params);\n  if (shouldRemoveAuthHeader) \n  {\n    removeAuthHeader();\n  }\n  return result;\n};","\nimport { BASE_API_URL } from '../utils/constants';\nimport { getErrors } from './errors';\nimport { history } from '../router/appRouter';\nimport { UPDATE_PROFILE } from '../utils/constants';\nimport { get, post } from '../utils/api';\nimport { setAuthHeader } from '../utils/common';\n\nexport const updateProfile = (profile) => ({type: UPDATE_PROFILE, profile});\n\n//POSSIBLE ERROR HERE\nexport const initiateUpdateProfile = (profileData) => {\n  return async (dispatch) => {\n    try\n    {\n      const profile = await post(`${BASE_API_URL}/profile`, profileData);\n      dispatch(updateProfile(profile.data));\n      history.push('/profile');\n    }\n    catch (error)\n    {\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\n\nexport const initiateGetProfile = () => {\n  return async (dispatch) => {\n    try\n    {\n      setAuthHeader();\n      const profile = await get(`${BASE_API_URL}/profile`);\n      dispatch(updateProfile(profile.data));\n    }\n    catch (error)\n    {\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\n\nexport const getProfile = () => {\n  return new Promise(function(resolve, reject) {\n    get(`${BASE_API_URL}/profile`).then(res => {\n      // console.log(res.data);\n\n      resolve(res.data);\n    }).catch(err=>{ reject(err) })\n  })\n}\n","import axios from 'axios';\nimport { SIGN_IN, SIGN_OUT, BASE_API_URL } from '../utils/constants';\nimport { initiateGetProfile } from './profile';\nimport { history } from '../router/appRouter';\nimport { getErrors } from './errors';\nimport { setAuthHeader, removeAuthHeader } from '../utils/common';\nimport { post } from '../utils/api';\n\nexport const signIn = (user) => ({type: SIGN_IN, user});\n\nexport const signOut = () => ({type: SIGN_OUT});\n\n//POSSIBLE ERROR\nexport const initiateLogin = (profile_name, password) => {\n  return async (dispatch) => {\n    try\n    {\n      const result = await axios.post(`${BASE_API_URL}/signin`, {profile_name, password});\n      const user = result.data;\n      localStorage.setItem('user_token', user.token);\n      dispatch(signIn(user));\n      dispatch(initiateGetProfile(user.profile_name));\n      history.push('/car_ui');\n    }\n    catch (error)\n    {\n      console.log('Error ', error);\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\n\nexport const initiateLogout = () => {\n  return async (dispatch) => {\n    try\n    {\n      setAuthHeader();\n      await post(`${BASE_API_URL}/logout`, true, true)\n      removeAuthHeader();\n      localStorage.removeItem('user_token');\n      \n      //Bring client back to login_page\n      history.push('/')\n      \n      return dispatch(signOut());\n    }\n    catch (error)\n    {\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\n\n//Calling server API http://localhost:3001/singup by passing user data as second param to it\n//Sends back object '{success: true}  as a result of API call\nexport const registerNewUser = (data) => {\n  return async (dispatch) => {\n    try\n    {\n      await axios.post(`${BASE_API_URL}/signup`, data);\n      return { success: true };\n    }\n    catch (error)\n    {\n      console.log('Error ', error);\n      error.response && dispatch(getErrors(error.response.data));\n      return { success: false };\n    }\n  };\n};\n","//Logs in an existing user and gives option to register new user\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Form, Button } from 'react-bootstrap';\nimport { initiateLogin } from '../actions/auth';\nimport { resetErrors } from '../actions/errors';\nimport { validateFields } from '../utils/common';\nimport { Link } from 'react-router-dom';\n\n//Eveyrthing below are methods to Login class\nclass Login extends React.Component {\n    state = {\n        profile_name: '',\n        password: '',\n        error_msg: ''\n    };\n\ncomponentDidUpdate(prevProps)\n{\n  if (!_.isEqual(prevProps.errors, this.props.errors))\n  {\n    this.setState({ error_msg: this.props.errors });\n  }\n}\n\ncomponentWillUnmount()\n{\n  this.props.dispatch(resetErrors());\n}\n\nhandleLogin = (event) => {\n    event.preventDefault();\n    const {profile_name, password} = this.state;\n    const fieldsToValidate = [{profile_name}, {password}];\n    const allFieldsEntered = validateFields(fieldsToValidate);\n\n    if (!allFieldsEntered)\n    {\n      this.setState({error_msg: { signin_error: 'Please enter all the fields'}});\n    }\n    //Login successful\n    else\n    {\n      this.setState({ error_msg: { signin_error: '' }});\n      this.props.dispatch(initiateLogin(profile_name, password));\n    }\n};\n\nhandleInputChange = (event) => {\n  const {name, value} = event.target;\n  this.setState({[name]: value});\n};\n\nrender() {\n    const {error_msg} = this.state;\n    return (\n      <div className=\"login-page\">\n        <h1>Login or Create an Account!</h1>\n        <div className=\"login-form\">\n          <Form onSubmit={this.handleLogin}>\n            {error_msg && error_msg.signin_error && (<p className=\"error_msg centered-message\">{error_msg.signin_error}</p>)}\n            <Form.Group controlId=\"profile_name\">\n              <Form.Label>Profile Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"profile_name\"\n                placeholder=\"Enter Profile Name\"\n                onChange={this.handleInputChange}\n              />\n            </Form.Group>\n            <Form.Group controlId=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Enter password\"\n                onChange={this.handleInputChange}\n              />\n            </Form.Group>\n            <div className=\"action-items\">\n              {/* {When button is pressed, form is submitted and handleLogin() exectutes} */}\n              <Button variant=\"primary\" type=\"submit\">Login</Button>\n              \n              <Link to=\"/register_user\" className=\"btn btn-secondary\">Create account</Link>\n            </div>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({errors: state.errors});\n\nexport default connect(mapStateToProps)(Login);\n","import React from \"react\";\nimport Login from '../components/Login'\n\nconst LoginPage = () => {\n    return (<Login />);\n};\n\nexport default LoginPage;\n","//Registers a new user\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Form, Button } from 'react-bootstrap';\nimport { registerNewUser } from '../actions/auth';\nimport { resetErrors } from '../actions/errors';\nimport { validateFields } from '../utils/common';\nimport { initiateLogin } from '../actions/auth';\n\nimport { Link } from 'react-router-dom';\n\nclass Register extends React.Component {\n    state = {\n        profile_name: '',\n        password: '',\n        confirm_password: '',\n        success_msg: '',\n        error_msg: '',\n        is_submitted: false\n    };\n\n    componentDidUpdate(prevProps)\n    {\n        if (!_.isEqual(prevProps.errors, this.props.errors))\n        {\n          this.setState({ error_msg: this.props.errors });\n        }\n      }\n\n      componentWillUnmount()\n      {\n        this.props.dispatch(resetErrors());\n      }\n\n    registerUser = (event) => {\n        event.preventDefault();\n\n        const {profile_name, password, confirm_password} = this.state;\n        const fieldsToValidate = [{profile_name}, {password}, {confirm_password}];\n        const allFieldsEntered = validateFields(fieldsToValidate);\n\n        if (!allFieldsEntered)\n        {\n            this.setState({error_msg: {signup_error: 'Please enter all the fields'}});\n        }\n        //If all fields are entered\n        else\n        {\n            //If password not entered correctly\n            if (password !== confirm_password)\n            {\n                this.setState({error_msg: {signup_error: 'Password and confirm password does not match'}});\n            }\n            //Everything correct, so accept it\n            else\n            {\n                this.setState({is_submitted: true});\n                this.props.dispatch(registerNewUser({profile_name, password})).then((response) => {\n                if (response.success)\n                {\n                    this.setState({success_msg: 'User registered successfully.', error_msg: ''});\n                    this.props.dispatch(initiateLogin(profile_name, password));\n                }\n                });\n            }\n        }\n    };\n\n    handleInputChange = (event) => {\n        const {name, value} = event.target;\n        this.setState({[name]: value});\n    };\n\n    render() {\n        const {error_msg, success_msg, is_submitted} = this.state;\n        return (\n        <div className=\"login-page\">\n            <h2>Register User</h2>\n            <div className=\"login-form\">\n            <Form onSubmit={this.registerUser}>\n                {error_msg && error_msg.signup_error ? (<p className=\"error_msg centered-message\">{error_msg.signup_error}</p>) : (is_submitted && (<p className=\"success_msg centered-message\">{success_msg}</p>))}\n                <Form.Group controlId=\"profile_name\">\n                <Form.Label>Profile name</Form.Label>\n                <Form.Control\n                    type=\"text\"\n                    name=\"profile_name\"\n                    placeholder=\"Profile name\"\n                    onChange={this.handleInputChange}\n                />\n                </Form.Group>\n                <Form.Group controlId=\"password\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Enter password\"\n                    onChange={this.handleInputChange}\n                />\n                </Form.Group>\n                <Form.Group controlId=\"confirm_password\">\n                <Form.Label>Confirm password</Form.Label>\n                <Form.Control\n                    type=\"password\"\n                    name=\"confirm_password\"\n                    placeholder=\"Enter confirm password\"\n                    onChange={this.handleInputChange}\n                />\n                </Form.Group>\n                <div className=\"action-items\">\n                <Button variant=\"primary\" type=\"submit\">\n                    Register\n                </Button>\n                <Link to=\"/\" className=\"btn btn-secondary\">\n                    Login\n                </Link>\n                </div>\n            </Form>\n            </div>\n        </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({errors: state.errors});\n\nexport default connect(mapStateToProps)(Register);\n","import React from \"react\";\nimport Register from '../components/Register'\n\nconst CreateProfilesPage = () => {\n    return (<Register />);\n};\n\nexport default CreateProfilesPage; ","import React, {Component} from 'react';\nimport Moveable from \"react-moveable\";\n\n\nexport default class CarUIMoveable extends Component { //<h1>{moveableTarget}</h1>;\n  constructor(props){\n    super(props);\n    this.resetState = this.resetState.bind(this);\n    this.resetStates = this.resetStates.bind(this);\n    this.frameFromStyle = this.frameFromStyle.bind(this);\n    this.extract = this.extract.bind(this);\n\n    this.state = {\n      target: null,\n      frame: {\n        translate: [0,0],\n        rotate: 0,\n        scale: [1,1],\n        transformOrigin: \"50% 50%\"\n      }\n\n    }\n  }\n\n  resetState() {\n    this.setState({\n      target: document.querySelector(\".\" + this.props.moveableTarget + \"\"),\n      frame: {\n        translate: [0,0],\n        scale: [1,1],\n        rotate: 0,\n        transformOrigin: \"50% 50%\"\n      }\n    });\n  }\n  resetStates(tempTarget) {\n    //  console.log('Old frame: ');\n    //  console.log(this.state.frame);\n    this.setState({\n      target: document.querySelector(\".\" + tempTarget + \"\"),\n      frame: this.frameFromStyle(tempTarget)\n    });\n  }\n\n  extract(inputString, matchString) {\n    var output = {};\n    var variables = matchString.match(/\\${.*?}/g)\n    var split = matchString.split(/\\${.*?}/g)\n    for (var i = 0; i < variables.length; i++) {\n      variables[i] = variables[i].replace(\"${\", \"\").replace(\"}\", \"\")\n    }\n    //  console.log(inputString)\n\n    for (var i = 0; i < split.length; i++) {\n      //  console.log()\n      var beginIndex = inputString.indexOf(split[i])+split[i].length;\n      inputString = inputString.substring(beginIndex);\n      var endIndex = 0;\n      try {\n        endIndex = inputString.indexOf(split[i+1])\n      } catch\n      {\n        endIndex = inputString.length;\n      }\n      output[variables[i]] = inputString.substring(0, endIndex);\n    }\n    return output;\n  }\n\n  frameFromStyle(tempTarget) {\n    var frame = null;\n    try {\n      //  console.log('Trying')\n      var transformOrigin = document.querySelector(\".\" + tempTarget + \"\").style.transformOrigin;\n      var transform = document.querySelector(\".\" + tempTarget + \"\").style.transform;\n      if (transform == NaN || transform == \"\"){\n        throw 'Style.transform does not exist!'\n      }\n      // console.log(\"What is transform?\")\n      // console.log(transform)\n\n      var transformValues = this.extract(transform, \"translate(${translateX}px, ${translateY}px)\"\n          +  \" rotate(${rotate}deg)\"+ \" scale(${scaleX}, ${scaleY})\")\n      // console.log('Results of transform values');\n      // console.log(transformValues)\n      frame = {\n        translate: [parseInt(transformValues[\"translateX\"]), parseInt(transformValues[\"translateY\"])],\n        scale: [parseFloat(transformValues[\"scaleX\"]), parseFloat(transformValues[\"scaleY\"])],\n        rotate: parseFloat(transformValues[\"rotate\"]),\n        transformOrigin: transformOrigin\n      }\n      //  console.log('New frame: ')\n      //  console.log(frame)\n      //throw 'ee'\n    } \n    catch(e) \n    {\n      //console.log(`Caught ${e}`)\n      frame = {\n        translate: [0,0],\n        scale: [1,1],\n        rotate: 0,\n        transformOrigin: \"50% 50%\"\n      }\n    }\n    return frame;\n  }\n\n  componentDidMount(){\n    this.resetState();\n  }\n\n  componentDidUpdate(prevProps){\n    // this.target = document.querySelector(\".jim\")\n    // console.log(\"updating!\")\n  }\n\n  render() {\n    // put 1 below:  <div className=\"target\">Target</div>\n\n    return <div className=\"container\">\n        <Moveable\n            target={this.state.target}\n\n            //Scaleable\n            scalable={true}\n            keepRatio={false}\n            throttleScale={0}\n            renderDirections={[\"nw\",\"n\",\"ne\",\"w\",\"e\",\"sw\",\"s\",\"se\"]}\n\n            originDraggable={true}\n            originRelative={true}\n            draggable={true}\n            throttleDrag={0}\n            startDragRotate={0}\n            throttleDragRotate={0}\n            zoom={1}\n            origin={true}\n            padding={{\"left\":0,\"top\":0,\"right\":0,\"bottom\":0}}\n            rotatable={true}\n            throttleRotate={0}\n            rotationPosition={\"top\"}\n            onScaleStart={({ set, dragStart }) => {\n                set(this.state.frame.scale);\n                dragStart && dragStart.set(this.state.frame.translate);\n            }}\n            onScale={({ target, scale, drag }) => {\n                const beforeTranslate = drag.beforeTranslate;\n\n                this.state.frame.translate = beforeTranslate;\n                this.state.frame.scale = scale;\n                this.state.target.style.transform\n                    = `translate(${beforeTranslate[0]}px, ${beforeTranslate[1]}px)`\n                    + ` scale(${scale[0]}, ${scale[1]})`;\n            }}\n            onScaleEnd={({ lastEvent }) => {\n                if (lastEvent) {\n                    this.state.frame.translate = lastEvent.drag.beforeTranslate;\n                    this.state.frame.scale = lastEvent.scale;\n                }\n            }}\n            onDragOriginStart={({ dragStart }) => {\n                dragStart && dragStart.set(this.state.frame.translate);\n            }}\n            onDragOrigin={({ target, drag, transformOrigin }) => {\n                this.state.frame.translate = drag.beforeTranslate;\n                this.state.frame.transformOrigin = transformOrigin;\n            }}\n            onDragStart={({ set }) => {\n                set(this.state.frame.translate);\n            }}\n            onDrag={({ target, beforeTranslate }) => {\n                this.state.frame.translate = beforeTranslate;\n            }}\n            onRotateStart={({ set }) => {\n                set(this.state.frame.rotate);\n            }}\n            onRotate={({ beforeRotate }) => {\n                this.state.frame.rotate = beforeRotate;\n            }}\n            onRender={({ target }) => {\n                const { translate, rotate, scale, transformOrigin } = this.state.frame;\n                this.state.target.style.transformOrigin = transformOrigin;\n                this.state.target.style.transform = `translate(${translate[0]}px, ${translate[1]}px)`\n                    +  ` rotate(${rotate}deg)`+ ` scale(${scale[0]}, ${scale[1]})`;;\n            }}\n        />\n    </div>;\n}\n}\n","//Code heavily inspired by https://github.com/bradtraversy/react_file_uploader\n//See tutorial at https://www.youtube.com/watch?v=b6Oe2puTdMQ&t=755s&ab_channel=TraversyMedia\n\nimport React, {useState} from 'react';\nimport axios from '../../node_modules/axios'\n\nconst FileUpload = (props) => {\n  const [file, setFile] = useState('')\n  const [filename, setFilename] = useState('Choose File')\n  const [uploadedFile, setUploadedFile] = useState({});\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  }\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file)\n    formData.append('userToken',  localStorage.getItem('user_token'));\n    try {\n      const res = await axios.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      //console.log(res);\n      const { fileName, filePath } = res.data\n      setUploadedFile({fileName, filePath});\n      props.onSuccessfulUpload();\n    } \n    catch(err) \n    {\n      console.log(err);\n      if (err.response.status === 500) \n      {\n        console.log('There was a problem with the server');\n      } \n      else \n      {\n        console.log(err.response.data.msg);\n      }\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input type='file' className = 'fileUploadInput' id = 'customFile' onChange={onChange}/>\n        <label className = 'fileUploadInput' htmlFor='customFile'>\n          {filename}\n        </label>\n\n        <input type =\"submit\" value=\"Upload\" / >\n      </form>\n    </div>\n  )\n}\n\nexport default FileUpload\n","import React, {useState, useEffect} from 'react';\nimport { BASE_API_URL } from '../utils/constants';\nimport FileUpload from '../components/FileUpload';\nimport { getProfile } from '../actions/profile';\n\n\n\nconst ImageSelector = (props) => {\n  const [tock, setTock] = useState(false);\n  const [defaultImages, setDefaultImages] = useState(null);\n  const [userImages, setUserImages] = useState(null);\n  const user_token = localStorage.getItem('user_token');\n\n  function fetchImages() {\n    getProfile().then(res => {\n      const profile_id = res.profile_id;\n      \n      //USER IMAGES\n      fetch(`${BASE_API_URL}/userUploadedImages?access_token=${user_token}`).then(response => {\n              return response.text();\n      })\n      .then(data => {\n        try \n        {                                                                             \n          setUserImages(JSON.parse(data).map((d) => <div><li><img onClick={() => props.imageChosen(`${BASE_API_URL}/uploads/user_profiles/profile_`+profile_id+\"/\"+d)} src={`${BASE_API_URL}/uploads/user_profiles/profile_`+profile_id+\"/\"+d} alt=\"Set user images\"/></li></div>));\n        } \n        catch(e) \n        {\n          console.log(e);\n        }\n        //setUserImages(data);\n        //console.log(userImages);\n      });\n    })\n\n    // fetch(`http://localhost:3001/userUploadedImages?access_token=${user_token}`).then(res => {\n    //   setUserImages(res);\n    // }).catch(err => {\n    //   console.log(err);\n    // })\n\n    //SYSTEM DEFAULT IMAGES\n    fetch(`${BASE_API_URL}/defaultImages`).then(response => {\n            return response.text();\n    })\n    .then(data => {\n      try \n      {                                                                                             \n        setDefaultImages(JSON.parse(data).map((value) => <div><li><img onClick={() => props.imageChosen(`${BASE_API_URL}/uploads/default_images/` + value)} src={`${BASE_API_URL}/uploads/default_images/` + value} alt=\"Set default images\" /></li></div>));\n      } \n      catch(e) \n      {\n        console.log(e);\n      }\n    });\n\n      //setDefaultImages(data);\n      //console.log(defaultImages);\n  }\n\n  function onSuccessfulImageUpload () {\n    //console.log(\"he\")\n    fetchImages()\n  }\n\n  useEffect(() => {\n    if (tock == 0) \n    {\n      fetchImages()\n    }\n    setTock(1)\n  });\n\n\n  return (\n    <div>\n      <h3>Default Images</h3>\n      <ul className=\"images\">\n        {defaultImages ? defaultImages : \"No images here!\"}\n      </ul>\n      <h3>User Images</h3>\n        <ul className=\"images\">\n          {userImages ? userImages : \"No images here!\"}\n        </ul>\n      <FileUpload onSuccessfulUpload = {onSuccessfulImageUpload}/>\n      <div style={{'color': props.skinColour}}></div>\n      {/*<button onClick={props.imageChosen('hello')}>Click ME </button>*/}\n    </div>\n  )\n}\n\nexport default ImageSelector\n","import React from 'react';\n\n//TODO: Don't need?\n//import { Link } from 'react-router-dom';\n\nconst Loading = () => {\n  return (\n    <div>\n    <img className = \"center\" src = {process.env.PUBLIC_URL + '/loading.gif'} alt=\"Loading Gif\"/>\n    <div id = \"overlay\">Testing</div>\n    </div>\n  );\n};\n\nexport default Loading;\n","//Import Hook from React\n//A Hook is a special function that lets you “hook into” React features. For example, useState is a Hook that lets you add React state to function components\nimport React, {useState, useEffect} from 'react';\n\nimport { Form, Modal, Button } from 'react-bootstrap';\nimport { Link, useLocation, BrowserRouter as Router } from \"react-router-dom\";\n\nimport { BASE_API_URL, BG_WITH_SCREEN, BG_GENERIC } from '../utils/constants';\nimport CarUIMoveable from './CarUIMoveable'; //'./' is current folder\nimport ImageSelector from './ImageSelector';\nimport Loading from './Loading';\n\nimport _ from 'lodash';\n//TODO: Don't need?\n//import FileUpload from '../components/FileUpload';\n//import ReactDOM from 'react-dom'\n//import { useParams, RouteComponentProps } from \"react-router\";\n\n// var value = \"target\"\n//\n// var element = <CarUIMoveable id = \"carUIMoveable\" moveableTarget={value} />;\n//\n// function changeClass(){\n//   if (value == \"target\")\n//     value = \"temp\"\n//   else\n//     value = \"target\"\n//   element.resetState;\n// }\n\nconst CarUI = () => {\n  //Variables for Moveable-------------------------------\n  const [moveableComponentReference, setMoveableCommponentReference] = useState(React.createRef());\n  const [begin, setBegin] = useState(null);\n  const [end, setEnd] =  useState(null);\n  //-----------------------------------------------------\n\n  //Handle Modal-----------------------------------------\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  //-----------------------------------------------------\n\n  //Image variables--------------------------------------\n  const [imgs, setImgs] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n\n  //Null if no image currently clicked, else stores current selected image img_id. DeleteImgFun() utilizes this\n    //Preserves the value of variable selectedImg inbetween function calls (preserved by React)\n    //useState returns a pair of values; current state and a function that updates it\n  const [selectedImg, setSelectedImg] = useState(null);\n  //-----------------------------------------------------\n\n  const [localCopy, setLocalCopy] = useState(null);\n  const location = useLocation();\n\n  //Stack variables (For Undo functionality)------------\n  const [undoStack, setUndoStack] = useState([]);\n  var undoStack2 = [];\n  //-----------------------------------------------------\n\n  function getQueryParams()\n  {\n    var temp = location.search;\n    temp = temp.split(\"?\")[1]\n    temp = temp.split(/=|\\&/g);\n    var queryParams = {};\n    for (var i = 0; i < temp.length; i +=2) {\n      queryParams[temp[i]] = temp[i+1]\n    }\n    return queryParams\n  }\n\n  var queryParams = null;\n  try\n  {\n    queryParams = getQueryParams();\n  }\n  catch (e)\n  {\n\n  }\n\n  console.log(\"Query Params: \", queryParams)\n  console.log(\"------------------------------\")\n  const [tick, setTick] = useState(false);\n  const user_token = localStorage.getItem('user_token');\n\n\n  useEffect(() => {\n    if (tick == 0)\n    {\n      getImg();\n    }\n    setTick(1)\n  });\n\n  function setImagesFromJSON(data){\n    setImgs(data.map((d) => <div>{console.log(<li key={d.img_source}>{d.img_source}</li>)}<img id = \"placedImage\" className={\"moveable\"+d.img_id} src = {d.img_source} alt=\"Set Image\" style = {{transform: d.img_transform, transformOrigin: d.img_transform_origin, zIndex: d.img_z_index}} /></div>));\n  }\n\n  function getImg()\n  {\n    //saveImgFun()\n    console.log(\"getImg() || Location:\", location);\n    console.log(\"------------------------------\")\n    // console.log(`http://localhost:3001/images-by-profile?access_token=${user_token}`)\n    fetch(`${BASE_API_URL}/images-by-profile?access_token=${user_token}`)\n      .then(response => {\n        return response.text();\n      })\n      .then(data => {\n          console.log(\"getImg() || Data Retrieved: \", data)\n          console.log(\"------------------------------\")\n\n        setImgs(\"ee\")\n\n        var newImageLines = <div></div>\n        for (var row of data)\n        {\n          //CHANGED 'moveable_' -> 'moveable' FOR CONSITENCY\n          var className = `moveable${row.img_id}`;\n          newImageLines += <img id = \"placedImage\" className={className} src = {row.img_source} alt=\"User's Image\" style = \"\"/>\n        }\n\n        data = JSON.parse(data)\n        // data =[{\"name\":\"test1\"},{\"name\":\"test2\"}];\n\n          console.log(\"getImg() || Data: \", data);\n          console.log(\"------------------------------\")\n\n        setLoaded(true);\n        //Changed to console.log instead to keep UI clean\n          //Was populating screen with image sources before change\n        setImagesFromJSON(data)\n        // setLocalCopy(data);\n        setLocalCopyWithUndo(data)\n\n        console.log(\"getImg() || Logging undo stack: \")\n        console.log(undoStack);\n        console.log(\"------------------------------\")\n        // setImgs(<div><div dangerouslySetInnerHTML={{__html: newImageLines}} ></div><h2>Here</h2></div>);\n      });\n  }\n\n  //Corresponds to \"Delete Image\" button on the car_ui_page\n  function getPageData()\n  {\n    // Copying Local copy to temp variable\n    var temp = JSON.parse(JSON.stringify(localCopy));\n    if (temp == null)\n    {\n      console.log(\"getPageData() || localCopy IS NULL\")\n      return null;\n    }\n    for (var i = 0; i < temp.length; i++)\n    {\n      temp[i].img_transform = document.querySelector(\".moveable\" + temp[i].img_id + \"\").style.transform;\n      temp[i].img_transform_origin = document.querySelector(\".moveable\" + temp[i].img_id + \"\").style.transformOrigin;\n      temp[i].img_z_index = document.querySelector(\".moveable\" + temp[i].img_id + \"\").style.zIndex;\n    }\n    return temp;\n  }\n\n  function saveImgFun()\n  {\n    if (localCopy == null)\n    {\n      return;\n    }\n    setLocalCopyFromPageData()\n\n    console.log('begin save attempt')\n    console.log(\"getImg() || Local Copy: \", localCopy)\n    console.log(\"------------------------------\")\n\n    fetch(`${BASE_API_URL}/update-image-transforms`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(localCopy)\n\n    })\n    .then(response => {\n            return response.text();\n    })\n    .then(data => {\n            alert(\"Save Successful!\");\n            getImg();\n    });\n  }\n\n//Example of localCopy object:\n// 0:\n//   access_token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9maWxlX2lkIjoiMTIiLCJwcm9maWxlX25hbWUiOiJtYXgiLCJpYXQiOjE2MDUwNTQ3NTN9.0BuaQj2GJExeEM9ots_FRqCs7SAbtuYYRg6ed128mA8\"\n//   id: \"194\"\n//   img_id: \"83\"\n//   img_source: \"http://localhost:3001/uploads/default_images/HMI-Widgets_1A.png\"\n//   img_transform: \"translate(331px, 92px) rotate(0deg) scale(0.077193, 0.0535714)\"\n//   img_transform_origin: \"50% 50%\"\n//   profile_id: \"12\"\n\n  //Corresponds to \"Delete Image\" button on the car_ui_page\n  function deleteImgFun()\n  {\n\n    console.log(\"deleteImgFun() || selectedImg: \", selectedImg)\n    console.log(\"------------------------------\")\n\n    //If the State Variable is null (meaning no img selected)\n    if (selectedImg == null)\n    {\n      return;\n    }\n\n    fetch(`${BASE_API_URL}/delete-image`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json' //Keep it as this since this is what we specified in server.js\n      },\n      body: JSON.stringify({selected_img: selectedImg})\n\n    })\n    .then(response => {\n            return response.text();\n    })\n    .then(data => {\n            //Comment out if you do not want\n            alert(\"Delete Successful!\");\n\n            //Updates the carUI page to only have the images that should actually be there\n            getImg();\n    });\n\n  }\n\n  function addImgFun(img_source)\n  {\n    // let img_source = prompt('Enter image source');\n    let img_transform = `translate(0px, 0px)`+  ` rotate(0deg)`+ ` scale(0.3, 0.3)`\n    let img_transform_origin = \"50% 50%\";\n    // let profile_id = queryParams.profile_id;\n     console.log({img_source, img_transform, img_transform_origin, user_token})\n     console.log(\"------------------------------\")\n\n    if (img_source != null)\n    {\n    fetch(`${BASE_API_URL}/image`, {method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({img_source, img_transform, img_transform_origin, user_token})})\n    .then(response => {\n            return response.text();\n    })\n    .then(data => {\n            //alert(\"Add Image Successful!\");\n            console.log(\"addImgFun() || Data: \", data);\n            console.log(\"------------------------------\")\n\n            getImg();\n            normalizeZOrders();\n    });\n  }\n  }\n\n  function changeTarget(newTarget, delay = 0)\n  {\n    console.log(\"changeTarget() || IMAGE CHOSEN\")\n\n    if (newTarget == null || newTarget == \"\" || !newTarget.startsWith('moveable'))\n    {\n      newTarget = \"none\"\n    }\n    if (moveableComponentReference.current == null)\n    {\n      console.log('changeTarget() || NULL')\n    }\n    else\n    {\n      console.log('changeTarget() || Resetting States')\n      console.log(\"------------------------------\")\n      moveableComponentReference.current.resetStates(newTarget);\n    }\n  }\n\n  function handleClick(e)\n  {\n    console.log(\"handleClick() || Mouse down\")\n\n    //Update the value of selectedImg----------------------\n    var current_target = e.target\n    //If clicked an image, set selectedImg to that\n    if (current_target.className.startsWith('moveable'))\n    {\n      //Do not want 'moveable' + img_id; only want img_id\n      var img_id = current_target.className.substring(8)\n      console.log(\"handleClick() || current_target image id: \", img_id)\n\n      //Update state of the State Variable (utilizing React Hook function useState())\n      setSelectedImg(img_id)\n    }\n    //Else, set it to null because no image is selected\n    else\n    {\n      setSelectedImg(null)\n    }\n    //-----------------------------------------------------\n\n    setBegin(new Date());\n\n    var pageData = getPageData();\n    if (JSON.stringify(pageData) != undoStack[undoStack.length-1])\n    {\n      undoStack.push(JSON.stringify(pageData));\n      console.log(\"handleClick() || UNDO STACK UPDATED\");\n      console.log(\"Length: \", undoStack.length);\n      console.log(\"UndoStack: \", undoStack);\n      console.log(\"------------------------------\")\n    }\n  }\n\n  function finishClick(e)\n  {\n     console.log(\"finishClick() || Mouse up\")\n\n    setEnd(new Date());\n\n    if ((end - begin) < 200)\n    {\n      changeTarget(e.target.className)\n    }\n    var pageData = getPageData();\n    console.log(\"finishClick() || Page data: \", pageData);\n    console.log(\"finishClick() || Length: \", undoStack.length);\n    console.log(\"------------------------------\")\n  }\n\n  function setLocalCopyWithUndo(data)\n  {\n    setLocalCopy(data);\n\n    undoStack.push(JSON.stringify(data))\n  }\n\n  function setLocalCopyFromPageData() {\n    if (localCopy == null) {\n      return;\n    }\n    for (var i = 0; i < localCopy.length; i++) {\n      localCopy[i].img_transform = document.querySelector(\".moveable\" + localCopy[i].img_id + \"\").style.transform;\n      localCopy[i].img_transform_origin = document.querySelector(\".moveable\" + localCopy[i].img_id + \"\").style.transformOrigin;\n      localCopy[i].img_z_index = document.querySelector(\".moveable\" + localCopy[i].img_id + \"\").style.zIndex;\n    }\n  }\n\n  function undo(){\n    console.log(\"Undo() || undoStack: \", undoStack);\n\n    changeTarget('')\n    if (undoStack.length == 0)\n    {\n      // Never Should be here\n      return;\n    }\n    setImgs(false)\n    //  console.log(\"Made here\");\n    var temp = undoStack.pop();\n    if (undoStack.length == 0)\n    {\n      // This fixes a bug. Still running into a bug that you cannot undo from first operation.\n      undoStack.push(temp);\n    }\n    //  console.log(temp)\n    var temp = JSON.parse(temp)\n\n    setImagesFromJSON(temp)\n    setLocalCopy(temp);\n    //  console.log(undoStack.length);\n    //  console.log(temp);\n\n  }\n\n  function normalizeZOrders() {\n    localCopy.sort(function(a, b) {\n      return parseInt(a.img_z_index) - parseInt(b.img_z_index);\n    });\n    console.log(localCopy);\n    for (let local in localCopy) {\n      localCopy[local].img_z_index = local;\n      document.querySelector(\".moveable\" + localCopy[local].img_id + \"\").style.zIndex = local;\n    }\n  }\n\n  function moveToFront() {\n    if (moveableComponentReference.current.state.target) {\n      var max = -999;\n      var numOccurences = 0;\n      var indexOfTarget = -1;\n      for (let local in localCopy) {\n        console.log(localCopy[local])\n        var num = parseInt(localCopy[local].img_z_index)\n        if (num > max) {\n          max = num;\n          numOccurences = 1\n        }\n        else if (num == max) {\n          numOccurences += 1;\n        }\n      }\n      if (moveableComponentReference.current.state.target.style.zIndex != max || numOccurences > 1)\n      {\n        moveableComponentReference.current.state.target.style.zIndex = max+1;\n        setLocalCopyFromPageData();\n        normalizeZOrders();\n      }\n      // console.log(moveableComponentReference.current.state.target.style.zIndex)\n    }\n  }\n\n  function moveToBack() {\n    if (moveableComponentReference.current.state.target) {\n      var min = 999;\n      var numOccurences = 0;\n      var indexOfTarget = -1;\n      for (let local in localCopy) {\n        console.log(localCopy[local])\n        var num = parseInt(localCopy[local].img_z_index)\n        if (num < min) {\n          min = num;\n          numOccurences = 1\n        }\n        else if (num == min) {\n          numOccurences += 1;\n        }\n      }\n      if (moveableComponentReference.current.state.target.style.zIndex != min || numOccurences > 1)\n      {\n        moveableComponentReference.current.state.target.style.zIndex = min-1;\n        setLocalCopyFromPageData();\n        normalizeZOrders();\n      }\n      // console.log(moveableComponentReference.current.state.target.style.zIndex)\n    }\n  }\n\n  //Function gets called when a user selects an image from the image gallery on the Car_ui page\n  function onImageChosen(imageUrl)\n  {\n    console.log(\"onImageChosen() || IMG URL: \", imageUrl)\n    console.log(\"------------------------------\")\n    handleClose();\n    addImgFun(imageUrl)\n  }\n\n  if (loaded == false) {\n    return <Loading/>\n  }\n    return (\n      <div>\n        <div onMouseDown = {handleClick} onClick = {finishClick}>\n\n            {/* <div id = \"canvas\"></div> */}\n            <CarUIMoveable id = \"carUIMoveable\" ref = {moveableComponentReference} moveableTarget=\"target\" />\n\n            {/* BACKGROUND IMAGE */}\n            <img src={BG_GENERIC} alt=\"Tesla console background\" id=\"carUIBg\"/>\n\n            {/*Ternary operator */}\n            {imgs ? imgs : \"No images here!\"}\n\n            {/*<Button onClick = {addImgFun}>Add Image by URL </Button>*/}\n            {/*<img id = \"placedImage\" className=\"moveable_koala3\" src=\"https://www.treehugger.com/thmb/pzsLSvqKfyLxIvqIogiWba54u3c=/768x0/filters:no_upscale():max_bytes(150000):strip_icc()/__opt__aboutcom__coeus__resources__content_migration__mnn__images__2019__05__koala-0f87652acc244db2ba7d2e231c868f16.jpg\"/>\n            <img id = \"placedImage\" className=\"moveable_koala4\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Cutest_Koala.jpg/1117px-Cutest_Koala.jpg\"/>*/}\n\n        </div>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick={handleShow}>Add an image</Button>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick = {undo}>Undo</Button>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick = {saveImgFun}>Save</Button>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick = {deleteImgFun}>Delete</Button>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick = {moveToFront}>Move to Front</Button>\n            <Button variant=\"primary\" id=\"carUI_button\" onClick = {moveToBack}>Move to Back</Button>\n\n            <Button variant=\"primary\" id=\"carUI_button\" href=\"/logout\">Logout</Button>\n\n            <Modal show={show} onHide={handleClose} style={{opacity:1}}>\n              <Modal.Header closeButton>\n                <Modal.Title>Image Gallery</Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                <ImageSelector imageChosen = {onImageChosen}/>\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>Close</Button>\n              </Modal.Footer>\n            </Modal>\n\n                  {/*<ImageSelector imageChosen = {onImageChosen}/>*/}\n\n                  {/*<Button variant=\"primary\" onClick={handleShow}>\n                    Open Modal\n                  </Button>\n                  <Modal show={show} onHide={handleClose}>\n                  <ImageSelector imageChosen = {onImageChosen}/>\n\n                    <Modal.Header closeButton>\n                      <Modal.Title>Modal heading</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>ee\n                    <ImageSelector imageChosen = {onImageChosen}/>\n                    </Modal.Body>\n                      <Modal.Footer>\n                      <Button variant=\"secondary\" onClick={handleClose}>\n                      Close\n                      </Button>\n                      <Button variant=\"primary\" onClick={handleClose}>\n                      Save Changes\n                      </Button>\n                      </Modal.Footer>\n                   </Modal>*/}\n              </div>\n          );\n\n}\nexport default CarUI;\n//\n// <Link to=\"/upload_img\">Upload Image</Link>\n// <Link to=\"/edit_img\">Edit Existing Image</Link>\n// <h2>Edit Existing Image</h2>\n// <ul>\n//     <li>Size, position, rotation</li>\n//     <li>Delete</li>\n//     <li>Replace</li>\n// </ul>\n","import React from \"react\";\nimport CarUI from '../components/CarUI'\n\nconst CarUIPage = () => {\n    return (<CarUI />);\n};\n\nexport default CarUIPage;\n","import React from \"react\";\n\nconst NotFoundPage = () => {\n    return (\n        <div>\n            <h1>404 Not Found!</h1>\n        </div>\n    );\n};\n\nexport default NotFoundPage; ","import React from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { Form, Button } from 'react-bootstrap';\nimport { initiateUpdateProfile } from '../actions/profile';\nimport { validateFields } from '../utils/common';\nimport { resetErrors } from '../actions/errors';\nimport { initiateGetProfile } from '../actions/profile';\n\n\nclass Profile extends React.Component {\n  state = {\n    profile_name: '',\n    error_msg: '',\n    is_submitted: false\n  };\n\n  componentDidMount()\n  {\n    const { profile } = this.props;\n\n    if (_.isEmpty(profile)) {\n      this.props.dispatch(initiateGetProfile());\n    }\n\n    if (!_.isEmpty(profile))\n    {\n      const {profile_name} = profile;\n      this.setState({profile_name});\n    }\n  }\n\n  componentDidUpdate(prevProps)\n  {\n    if (!_.isEqual(prevProps.errors, this.props.errors))\n    {\n      this.setState({error_msg: this.props.errors});\n    }\n    if (!_.isEqual(prevProps.profile, this.props.profile))\n    {\n      const { profile_name} = this.props.profile;\n      this.setState({ profile_name});\n    }\n  }\n\n  componentWillUnmount()\n  {\n    this.props.dispatch(resetErrors());\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { profile_name} = this.state;\n    const profileData = {profile_name};\n\n    const fieldsToValidate = [{ profile_name }];\n\n    const allFieldsEntered = validateFields(fieldsToValidate);\n    if (!allFieldsEntered)\n    {\n      this.setState({error_msg: { update_error: 'Please enter all the fields.'}});\n    }\n    else\n    {\n      this.setState({ is_submitted: true, error_msg: '' });\n      this.props.dispatch(initiateUpdateProfile(profileData));\n    }\n  };\n\n  handleOnChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({[name]: value});\n  };\n\n  render() {\n    const { error_msg, profile_name, is_submitted } = this.state;\n    return (\n      <div className=\"col-md-6 offset-md-3\">\n        <Form onSubmit={this.handleSubmit} className=\"profile-form\">\n          {error_msg && error_msg.update_error ? (\n            <p className=\"error_msg centered-message\">{error_msg.update_error}</p>\n          ) : (\n            is_submitted && (\n              <p className=\"successMsg centered-message\">\n                Profile updated successfully.\n              </p>\n            )\n          )}\n          <Form.Group controlId=\"profile_name\">\n            <Form.Label>Profile Name:</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"profile_name\"\n              placeholder=\"Enter your profile name\"\n              value={profile_name}\n              onChange={this.handleOnChange}\n            />\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        </Form>\n        <h1>You are currently logged in! Click <a href = \"/logout\">here</a> to log out and <a href = \"/car_ui\">here</a> to go to the car_ui page</h1>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({profile: state.profile, errors: state.errors});\n\nexport default connect(mapStateToProps)(Profile);\n","import React from \"react\";\nimport Profile from '../components/Profile'\n\nconst ProfilesPage = () => {\n    return (<Profile />);\n};\n\nexport default ProfilesPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { initiateLogout } from '../actions/auth';\nimport Loading from '../components/Loading'\n\n\nclass Logout extends React.Component\n{\n  async componentDidMount()\n  {\n    const { dispatch } = this.props;\n    dispatch(initiateLogout())\n    await initiateLogout()\n  }\n\n  render()\n  {\n    return <Loading/>;\n  }\n};\n\nexport default connect()(Logout);\n","import React from \"react\";\nimport Logout from '../components/Logout';\n\nconst LogoutPage = () => {\n    return (<Logout />);\n};\n\nexport default LogoutPage;\n","import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { getProfile } from '../actions/profile';\nimport Loading from '../components/Loading'\nimport { Navbar, Nav } from 'react-bootstrap';\n\n//TODO: Don't need?\n//import { initiateGetProfile } from '../actions/profile';\n\nimport { useDispatch } from 'react-redux'\n\nconst dispatch = useDispatch;\n\nconst Header = () => {\n  const [profile, setProfile] = useState(\n    {\n      profile_name: null,\n      error_msg: '',\n      is_submitted: false\n    }\n  );\n  //       this.props.dispatch(initiateGetProfile());\n  const [tick, setTick] = useState(false);\n\n  useEffect(() => {\n    if (tick == 0) {\n      getProfile().then(res => {\n        // console.log(\"heee\")\n        // console.log(res);\n        setProfile(res)\n        // console.log(profile)\n      })\n      // dispatch()\n    }\n    setTick(1)\n  });\n\n  if (profile.profile_name == null) {\n    return <Loading/>\n  }\n\n  console.log(window.location.pathname);\n  if (window.location.pathname == '/')\n    window.location.pathname = '/car_ui'\n    \n  return (\n    <Navbar className = \"navbar\">\n    <Nav.Item><strong>Logged in as: {profile.profile_name}</strong></Nav.Item>\n\n    {/* Added button to perform same function. TODO: Determine if need? */}\n    {/* <Nav.Item className=\"ml-auto\"><Link to=\"/logout\" className=\"link\">Logout</Link></Nav.Item> */}\n\n    </Navbar>\n  );\n};\n\nexport default Header;\n","//NOTES:\n    //In JSX, class is replaced by className\n    //JS in curly braces\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { createBrowserHistory } from 'history';\nimport { Route, Switch, Router } from 'react-router-dom';\n\n//Pages\nimport LoginPage from '../pages/login_page' //Done\nimport CreateProfilesPage from '../pages/create_profile' //Done\nimport CarUIPage from '../pages/carUI_page'\nimport NotFoundPage from '../pages/404'; //Done\nimport ProfilesPage from '../pages/profile_page';\nimport Logout from '../pages/logout_page';\n\n//Components\nimport Header from '../components/Header';\n\n//TODO: Don't need?\n//import Loading from '../components/Loading';\n\nexport const history = createBrowserHistory();\n\nconst AppRouter = ({ auth }) => {\n  // const user_token = localStorage.getItem('user_token');;\n\n  // if (_.isEmpty(auth.token) && !_.isEmpty(localStorage.getItem('user_token'))) {\n  //   auth.token = localStorage.getItem('user_token');\n  // }\n  // {!_.isEmpty(user_token) && <Header />}\n  return (\n    <Router history={history}>\n      <div>\n      {!_.isEmpty(auth.token) &&  <Header/>}\n\n        <div className=\"container\">\n        <Switch>\n\n            <Route exact path=\"/\" component={LoginPage}/>\n            <Route path=\"/register_user\" component={CreateProfilesPage}/>\n            <Route path=\"/profile\" component={ProfilesPage} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/car_ui\" component={CarUIPage}/>\n\n            {/* Goes here if none are triggered; AT BOTTOM */}\n            <Route exact path='/404' component={NotFoundPage}/>\n        </Switch>\n      </div>\n    </div>\n    </Router>\n  );\n};\n\n// const mapStateToProps = (state) => ({\n//   auth: state.auth\n// })\n\nconst mapStateToProps = (state) => {\n  if (_.isEmpty(state.auth.token) && !_.isEmpty(localStorage.getItem('user_token'))) {\n    state.auth.token = localStorage.getItem('user_token');\n  }\n  return ({\n  auth: state.auth\n});\n}\n\nexport default connect(mapStateToProps)(AppRouter);","//Entry point to React\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppRouter from './router/appRouter';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/main.scss';\n\nconst rootElement = document.getElementById('root');\n\n//Rendering App Component into element with ID of 'root' (div in index.html)\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>,\n  rootElement\n);"],"sourceRoot":""}