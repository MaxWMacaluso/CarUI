{"ast":null,"code":"import { BASE_API_URL } from '../utils/constants';\nimport { getErrors } from './errors';\nimport { history } from '../router/appRouter';\nimport { UPDATE_PROFILE } from '../utils/constants';\nimport { get, post } from '../utils/api';\nimport { setAuthHeader } from '../utils/common';\nexport const updateProfile = profile => ({\n  type: UPDATE_PROFILE,\n  profile\n}); //POSSIBLE ERROR HERE\n\nexport const initiateUpdateProfile = profileData => {\n  return async dispatch => {\n    try {\n      const profile = await post(`${BASE_API_URL}/profile`, profileData);\n      dispatch(updateProfile(profile.data));\n      history.push('/profile');\n    } catch (error) {\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\nexport const initiateGetProfile = () => {\n  return async dispatch => {\n    try {\n      setAuthHeader();\n      const profile = await get(`${BASE_API_URL}/profile`);\n      dispatch(updateProfile(profile.data));\n    } catch (error) {\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};","map":{"version":3,"sources":["I:/Team-Matrix/sprint_two/car_ui_app/front_end/src/actions/profile.js"],"names":["BASE_API_URL","getErrors","history","UPDATE_PROFILE","get","post","setAuthHeader","updateProfile","profile","type","initiateUpdateProfile","profileData","dispatch","data","push","error","response","initiateGetProfile"],"mappings":"AACA,SAASA,YAAT,QAA6B,oBAA7B;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,cAA1B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,KAAc;AAACC,EAAAA,IAAI,EAAEN,cAAP;AAAuBK,EAAAA;AAAvB,CAAd,CAAtB,C,CAEP;;AACA,OAAO,MAAME,qBAAqB,GAAIC,WAAD,IAAiB;AACpD,SAAO,MAAOC,QAAP,IAAoB;AACzB,QACA;AACE,YAAMJ,OAAO,GAAG,MAAMH,IAAI,CAAE,GAAEL,YAAa,UAAjB,EAA4BW,WAA5B,CAA1B;AACAC,MAAAA,QAAQ,CAACL,aAAa,CAACC,OAAO,CAACK,IAAT,CAAd,CAAR;AACAX,MAAAA,OAAO,CAACY,IAAR,CAAa,UAAb;AACD,KALD,CAMA,OAAOC,KAAP,EACA;AACEA,MAAAA,KAAK,CAACC,QAAN,IAAkBJ,QAAQ,CAACX,SAAS,CAACc,KAAK,CAACC,QAAN,CAAeH,IAAhB,CAAV,CAA1B;AACD;AACF,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMI,kBAAkB,GAAG,MAAM;AACtC,SAAO,MAAOL,QAAP,IAAoB;AACzB,QACA;AACEN,MAAAA,aAAa;AACb,YAAME,OAAO,GAAG,MAAMJ,GAAG,CAAE,GAAEJ,YAAa,UAAjB,CAAzB;AACAY,MAAAA,QAAQ,CAACL,aAAa,CAACC,OAAO,CAACK,IAAT,CAAd,CAAR;AACD,KALD,CAMA,OAAOE,KAAP,EACA;AACEA,MAAAA,KAAK,CAACC,QAAN,IAAkBJ,QAAQ,CAACX,SAAS,CAACc,KAAK,CAACC,QAAN,CAAeH,IAAhB,CAAV,CAA1B;AACD;AACF,GAXD;AAYD,CAbM","sourcesContent":["\r\nimport { BASE_API_URL } from '../utils/constants';\r\nimport { getErrors } from './errors';\r\nimport { history } from '../router/appRouter';\r\nimport { UPDATE_PROFILE } from '../utils/constants';\r\nimport { get, post } from '../utils/api';\r\nimport { setAuthHeader } from '../utils/common';\r\n\r\nexport const updateProfile = (profile) => ({type: UPDATE_PROFILE, profile});\r\n\r\n//POSSIBLE ERROR HERE\r\nexport const initiateUpdateProfile = (profileData) => {\r\n  return async (dispatch) => {\r\n    try \r\n    {\r\n      const profile = await post(`${BASE_API_URL}/profile`, profileData);\r\n      dispatch(updateProfile(profile.data));\r\n      history.push('/profile');\r\n    } \r\n    catch (error) \r\n    {\r\n      error.response && dispatch(getErrors(error.response.data));\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateGetProfile = () => {\r\n  return async (dispatch) => {\r\n    try \r\n    {\r\n      setAuthHeader();\r\n      const profile = await get(`${BASE_API_URL}/profile`);\r\n      dispatch(updateProfile(profile.data));\r\n    } \r\n    catch (error) \r\n    {\r\n      error.response && dispatch(getErrors(error.response.data));\r\n    }\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}