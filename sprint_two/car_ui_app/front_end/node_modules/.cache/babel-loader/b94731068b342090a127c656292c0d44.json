{"ast":null,"code":"import { SIGN_IN, BASE_API_URL } from '../utils/constants';\nimport { getErrors } from './errors';\nimport axios from 'axios';\nexport const signIn = user => ({\n  type: SIGN_IN,\n  user\n});\nexport const initiateLogin = (profile_id, password) => {\n  return async dispatch => {\n    try {\n      const result = await axios.post(`${BASE_API_URL}/signin`, {\n        profile_id,\n        password\n      });\n      const user = result.data;\n      localStorage.setItem('user_token', user.token);\n      dispatch(signIn(user));\n    } catch (error) {\n      console.log('Error');\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n}; //Calling server API http://localhost:3001/singup by passing user data as second param to it\n//Sends back object '{success: true}  as a result of API call\n\nexport const registerNewUser = data => {\n  return async dispatch => {\n    try {\n      await axios.post(`${BASE_API_URL}/signup`, data);\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.log('Error ', error);\n      error.response && dispatch(getErrors(error.response.data));\n      return {\n        success: false\n      };\n    }\n  };\n};","map":{"version":3,"sources":["/Users/maxmacaluso/Desktop/General/Academic/CU/CS/4830HMI/Team-Matrix/sprint_two/car_ui_app/front_end/src/actions/auth.js"],"names":["SIGN_IN","BASE_API_URL","getErrors","axios","signIn","user","type","initiateLogin","profile_id","password","dispatch","result","post","data","localStorage","setItem","token","error","console","log","response","registerNewUser","success"],"mappings":"AAAA,SAAQA,OAAR,EAAiBC,YAAjB,QAAoC,oBAApC;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,MAAM,GAAIC,IAAD,KAAW;AAC/BC,EAAAA,IAAI,EAAEN,OADyB;AAE/BK,EAAAA;AAF+B,CAAX,CAAf;AAKP,OAAO,MAAME,aAAa,GAAG,CAACC,UAAD,EAAaC,QAAb,KAA0B;AACrD,SAAO,MAAOC,QAAP,IAAoB;AACzB,QACA;AACE,YAAMC,MAAM,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAY,GAAEX,YAAa,SAA3B,EAAqC;AAACO,QAAAA,UAAD;AAAaC,QAAAA;AAAb,OAArC,CAArB;AACA,YAAMJ,IAAI,GAAGM,MAAM,CAACE,IAApB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCV,IAAI,CAACW,KAAxC;AACAN,MAAAA,QAAQ,CAACN,MAAM,CAACC,IAAD,CAAP,CAAR;AACD,KAND,CAOA,OAAOY,KAAP,EACA;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAF,MAAAA,KAAK,CAACG,QAAN,IAAkBV,QAAQ,CAACR,SAAS,CAACe,KAAK,CAACG,QAAN,CAAeP,IAAhB,CAAV,CAA1B;AACD;AACF,GAbD;AAcD,CAfM,C,CAiBP;AACA;;AACA,OAAO,MAAMQ,eAAe,GAAIR,IAAD,IAAU;AACvC,SAAO,MAAOH,QAAP,IAAoB;AACzB,QACA;AACE,YAAMP,KAAK,CAACS,IAAN,CAAY,GAAEX,YAAa,SAA3B,EAAqCY,IAArC,CAAN;AACA,aAAO;AAAES,QAAAA,OAAO,EAAE;AAAX,OAAP;AACD,KAJD,CAKA,OAAOL,KAAP,EACA;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,KAAtB;AACAA,MAAAA,KAAK,CAACG,QAAN,IAAkBV,QAAQ,CAACR,SAAS,CAACe,KAAK,CAACG,QAAN,CAAeP,IAAhB,CAAV,CAA1B;AACA,aAAO;AAAES,QAAAA,OAAO,EAAE;AAAX,OAAP;AACD;AACF,GAZD;AAaD,CAdM","sourcesContent":["import {SIGN_IN, BASE_API_URL} from '../utils/constants';\nimport { getErrors } from './errors';\nimport axios from 'axios';\n\nexport const signIn = (user) => ({\n  type: SIGN_IN,\n  user\n});\n\nexport const initiateLogin = (profile_id, password) => {\n  return async (dispatch) => {\n    try \n    {\n      const result = await axios.post(`${BASE_API_URL}/signin`, {profile_id, password});\n      const user = result.data;\n      localStorage.setItem('user_token', user.token);\n      dispatch(signIn(user));\n    } \n    catch (error) \n    {\n      console.log('Error');\n      error.response && dispatch(getErrors(error.response.data));\n    }\n  };\n};\n\n//Calling server API http://localhost:3001/singup by passing user data as second param to it\n//Sends back object '{success: true}  as a result of API call\nexport const registerNewUser = (data) => {\n  return async (dispatch) => {\n    try \n    {\n      await axios.post(`${BASE_API_URL}/signup`, data);\n      return { success: true };\n    } \n    catch (error) \n    {\n      console.log('Error ', error);\n      error.response && dispatch(getErrors(error.response.data));\n      return { success: false };\n    }\n  };\n};"]},"metadata":{},"sourceType":"module"}