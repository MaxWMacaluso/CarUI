{"ast":null,"code":"var _jsxFileName = \"I:\\\\Team-Matrix\\\\sprint_two\\\\car_ui_app\\\\src\\\\components\\\\CarUIMoveable.js\";\nimport React, { Component } from 'react';\nimport Moveable from \"react-moveable\";\nexport default class CarUIMoveable extends Component {\n  //<h1>{moveableTarget}</h1>;\n  constructor(props) {\n    super(props);\n    this.resetState = this.resetState.bind(this);\n    this.resetStates = this.resetStates.bind(this);\n    this.frameFromStyle = this.frameFromStyle.bind(this);\n    this.extract = this.extract.bind(this);\n    this.state = {\n      target: null,\n      frame: {\n        translate: [0, 0],\n        rotate: 0,\n        scale: [1, 1],\n        transformOrigin: \"50% 50%\"\n      }\n    };\n  }\n\n  resetState() {\n    this.setState({\n      target: document.querySelector(\".\" + this.props.moveableTarget + \"\"),\n      frame: {\n        translate: [0, 0],\n        scale: [1, 1],\n        rotate: 0,\n        transformOrigin: \"50% 50%\"\n      }\n    });\n  }\n\n  resetStates(tempTarget) {\n    console.log('Old frame: ');\n    console.log(this.state.frame);\n    this.setState({\n      target: document.querySelector(\".\" + tempTarget + \"\"),\n      frame: this.frameFromStyle(tempTarget)\n    });\n  }\n\n  extract(inputString, matchString) {\n    var output = {};\n    var variables = matchString.match(/\\${.*?}/g);\n    var split = matchString.split(/\\${.*?}/g);\n\n    for (var i = 0; i < variables.length; i++) {\n      variables[i] = variables[i].replace(\"${\", \"\").replace(\"}\", \"\");\n    }\n\n    for (var i = 0; i < split.length; i++) {\n      var beginIndex = inputString.indexOf(split[i]) + split[i].length;\n      inputString = inputString.substring(beginIndex);\n      var endIndex = 0;\n\n      try {\n        endIndex = inputString.indexOf(split[i + 1]) + 1;\n      } catch {\n        endIndex = inputString.length;\n      }\n\n      output[variables[i]] = inputString.substring(0, endIndex);\n    }\n\n    return output;\n  }\n\n  frameFromStyle(tempTarget) {\n    var frame = null;\n\n    try {\n      console.log('Trying');\n      var transformOrigin = document.querySelector(\".\" + tempTarget + \"\").style.transformOrigin;\n      var transform = document.querySelector(\".\" + tempTarget + \"\").style.transform;\n      var transformValues = this.extract(transform, \"translate(${translate[0]}px, ${translate[1]}px)\" + \" rotate(${rotate}deg)\" + \" scale(${scale[0]}, ${scale[1]})\");\n      console.log('Results of transform values');\n      console.log(transformValues);\n      frame = {\n        translate: [parseInt(transformValues[\"translate[0]\"]), parseInt(transformValues[\"translate[1]\"])],\n        scale: [parseInt(transformValues[\"scale[0]\"]), parseInt(transformValues[\"scale[1]\"])],\n        rotate: parseFloat(transformValues[\"rotate\"]),\n        transformOrigin: transformOrigin\n      };\n      console.log('New frame: ');\n      console.log(frame);\n      throw 'ee';\n    } catch (e) {\n      console.log(`Caught ${e}`);\n      frame = {\n        translate: this.state.frame.translate,\n        //[0,0],\n        scale: this.state.frame.scale,\n        //[1,1],\n        rotate: this.state.frame.rotate,\n        //0,\n        transformOrigin: this.state.frame.transformOrigin //\"50% 50%\"\n\n      };\n    }\n\n    return frame;\n  }\n\n  componentDidMount() {\n    this.resetState();\n  }\n\n  componentDidUpdate(prevProps) {\n    // this.target = document.querySelector(\".jim\")\n    console.log(\"updating!\");\n  }\n\n  render() {\n    // put 1 below:  <div className=\"target\">Target</div>\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Moveable, {\n      target: this.state.target //Scaleable\n      ,\n      scalable: true,\n      keepRatio: false,\n      throttleScale: 0,\n      renderDirections: [\"nw\", \"n\", \"ne\", \"w\", \"e\", \"sw\", \"s\", \"se\"],\n      originDraggable: true,\n      originRelative: true,\n      draggable: true,\n      throttleDrag: 0,\n      startDragRotate: 0,\n      throttleDragRotate: 0,\n      zoom: 1,\n      origin: true,\n      padding: {\n        \"left\": 0,\n        \"top\": 0,\n        \"right\": 0,\n        \"bottom\": 0\n      },\n      rotatable: true,\n      throttleRotate: 0,\n      rotationPosition: \"top\",\n      onScaleStart: ({\n        set,\n        dragStart\n      }) => {\n        set(this.state.frame.scale);\n        dragStart && dragStart.set(this.state.frame.translate);\n      },\n      onScale: ({\n        target,\n        scale,\n        drag\n      }) => {\n        const beforeTranslate = drag.beforeTranslate;\n        this.state.frame.translate = beforeTranslate;\n        this.state.frame.scale = scale;\n        this.state.target.style.transform = `translate(${beforeTranslate[0]}px, ${beforeTranslate[1]}px)` + ` scale(${scale[0]}, ${scale[1]})`;\n      },\n      onScaleEnd: ({\n        lastEvent\n      }) => {\n        if (lastEvent) {\n          this.state.frame.translate = lastEvent.drag.beforeTranslate;\n          this.state.frame.scale = lastEvent.scale;\n        }\n      },\n      onDragOriginStart: ({\n        dragStart\n      }) => {\n        dragStart && dragStart.set(this.state.frame.translate);\n      },\n      onDragOrigin: ({\n        target,\n        drag,\n        transformOrigin\n      }) => {\n        this.state.frame.translate = drag.beforeTranslate;\n        this.state.frame.transformOrigin = transformOrigin;\n      },\n      onDragStart: ({\n        set\n      }) => {\n        set(this.state.frame.translate);\n      },\n      onDrag: ({\n        target,\n        beforeTranslate\n      }) => {\n        this.state.frame.translate = beforeTranslate;\n      },\n      onRotateStart: ({\n        set\n      }) => {\n        set(this.state.frame.rotate);\n      },\n      onRotate: ({\n        beforeRotate\n      }) => {\n        this.state.frame.rotate = beforeRotate;\n      },\n      onRender: ({\n        target\n      }) => {\n        const {\n          translate,\n          rotate,\n          scale,\n          transformOrigin\n        } = this.state.frame;\n        this.state.target.style.transformOrigin = transformOrigin;\n        this.state.target.style.transform = `translate(${translate[0]}px, ${translate[1]}px)` + ` rotate(${rotate}deg)` + ` scale(${scale[0]}, ${scale[1]})`;\n        ;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["I:/Team-Matrix/sprint_two/car_ui_app/src/components/CarUIMoveable.js"],"names":["React","Component","Moveable","CarUIMoveable","constructor","props","resetState","bind","resetStates","frameFromStyle","extract","state","target","frame","translate","rotate","scale","transformOrigin","setState","document","querySelector","moveableTarget","tempTarget","console","log","inputString","matchString","output","variables","match","split","i","length","replace","beginIndex","indexOf","substring","endIndex","style","transform","transformValues","parseInt","parseFloat","e","componentDidMount","componentDidUpdate","prevProps","render","set","dragStart","drag","beforeTranslate","lastEvent","beforeRotate"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAGA,eAAe,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;AAAE;AACrDG,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,OAAL,GAAe,KAAKA,OAAL,CAAaH,IAAb,CAAkB,IAAlB,CAAf;AAEA,SAAKI,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,IADG;AAEXC,MAAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAE,CAAC,CAAD,EAAG,CAAH,CADN;AAELC,QAAAA,MAAM,EAAE,CAFH;AAGLC,QAAAA,KAAK,EAAE,CAAC,CAAD,EAAG,CAAH,CAHF;AAILC,QAAAA,eAAe,EAAE;AAJZ;AAFI,KAAb;AAUD;;AAEDX,EAAAA,UAAU,GAAG;AACX,SAAKY,QAAL,CAAc;AACZN,MAAAA,MAAM,EAAEO,QAAQ,CAACC,aAAT,CAAuB,MAAM,KAAKf,KAAL,CAAWgB,cAAjB,GAAkC,EAAzD,CADI;AAEZR,MAAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAE,CAAC,CAAD,EAAG,CAAH,CADN;AAELE,QAAAA,KAAK,EAAE,CAAC,CAAD,EAAG,CAAH,CAFF;AAGLD,QAAAA,MAAM,EAAE,CAHH;AAILE,QAAAA,eAAe,EAAE;AAJZ;AAFK,KAAd;AASD;;AACDT,EAAAA,WAAW,CAACc,UAAD,EAAa;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWE,KAAvB;AACA,SAAKK,QAAL,CAAc;AACZN,MAAAA,MAAM,EAAEO,QAAQ,CAACC,aAAT,CAAuB,MAAME,UAAN,GAAmB,EAA1C,CADI;AAEZT,MAAAA,KAAK,EAAE,KAAKJ,cAAL,CAAoBa,UAApB;AAFK,KAAd;AAID;;AAEDZ,EAAAA,OAAO,CAACe,WAAD,EAAcC,WAAd,EAA2B;AAChC,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,SAAS,GAAGF,WAAW,CAACG,KAAZ,CAAkB,UAAlB,CAAhB;AACA,QAAIC,KAAK,GAAGJ,WAAW,CAACI,KAAZ,CAAkB,UAAlB,CAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCH,MAAAA,SAAS,CAACG,CAAD,CAAT,GAAeH,SAAS,CAACG,CAAD,CAAT,CAAaE,OAAb,CAAqB,IAArB,EAA2B,EAA3B,EAA+BA,OAA/B,CAAuC,GAAvC,EAA4C,EAA5C,CAAf;AACD;;AACD,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,UAAIG,UAAU,GAAGT,WAAW,CAACU,OAAZ,CAAoBL,KAAK,CAACC,CAAD,CAAzB,IAA8BD,KAAK,CAACC,CAAD,CAAL,CAASC,MAAxD;AACAP,MAAAA,WAAW,GAAGA,WAAW,CAACW,SAAZ,CAAsBF,UAAtB,CAAd;AACA,UAAIG,QAAQ,GAAG,CAAf;;AACA,UAAI;AACFA,QAAAA,QAAQ,GAAGZ,WAAW,CAACU,OAAZ,CAAoBL,KAAK,CAACC,CAAC,GAAC,CAAH,CAAzB,IAAgC,CAA3C;AACD,OAFD,CAEE,MACF;AACEM,QAAAA,QAAQ,GAAGZ,WAAW,CAACO,MAAvB;AACD;;AACDL,MAAAA,MAAM,CAACC,SAAS,CAACG,CAAD,CAAV,CAAN,GAAuBN,WAAW,CAACW,SAAZ,CAAsB,CAAtB,EAAyBC,QAAzB,CAAvB;AACD;;AACD,WAAOV,MAAP;AACD;;AAEDlB,EAAAA,cAAc,CAACa,UAAD,EAAa;AACzB,QAAIT,KAAK,GAAG,IAAZ;;AACA,QAAI;AACFU,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,UAAIP,eAAe,GAAGE,QAAQ,CAACC,aAAT,CAAuB,MAAME,UAAN,GAAmB,EAA1C,EAA8CgB,KAA9C,CAAoDrB,eAA1E;AACA,UAAIsB,SAAS,GAAGpB,QAAQ,CAACC,aAAT,CAAuB,MAAME,UAAN,GAAmB,EAA1C,EAA8CgB,KAA9C,CAAoDC,SAApE;AAEA,UAAIC,eAAe,GAAG,KAAK9B,OAAL,CAAa6B,SAAb,EAAwB,oDACvC,uBADuC,GACd,kCADV,CAAtB;AAEAhB,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYgB,eAAZ;AACA3B,MAAAA,KAAK,GAAG;AACNC,QAAAA,SAAS,EAAE,CAAC2B,QAAQ,CAACD,eAAe,CAAC,cAAD,CAAhB,CAAT,EAA4CC,QAAQ,CAACD,eAAe,CAAC,cAAD,CAAhB,CAApD,CADL;AAENxB,QAAAA,KAAK,EAAE,CAACyB,QAAQ,CAACD,eAAe,CAAC,UAAD,CAAhB,CAAT,EAAwCC,QAAQ,CAACD,eAAe,CAAC,UAAD,CAAhB,CAAhD,CAFD;AAGNzB,QAAAA,MAAM,EAAE2B,UAAU,CAACF,eAAe,CAAC,QAAD,CAAhB,CAHZ;AAINvB,QAAAA,eAAe,EAAEA;AAJX,OAAR;AAMAM,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACA,YAAM,IAAN;AACD,KAlBD,CAkBE,OAAM8B,CAAN,EAAS;AACTpB,MAAAA,OAAO,CAACC,GAAR,CAAa,UAASmB,CAAE,EAAxB;AACA9B,MAAAA,KAAK,GAAG;AACNC,QAAAA,SAAS,EAAE,KAAKH,KAAL,CAAWE,KAAX,CAAiBC,SADtB;AACgC;AACtCE,QAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,KAAX,CAAiBG,KAFlB;AAEwB;AAC9BD,QAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWE,KAAX,CAAiBE,MAHnB;AAG0B;AAChCE,QAAAA,eAAe,EAAE,KAAKN,KAAL,CAAWE,KAAX,CAAiBI,eAJ5B,CAI2C;;AAJ3C,OAAR;AAMD;;AACD,WAAOJ,KAAP;AACD;;AAED+B,EAAAA,iBAAiB,GAAE;AACjB,SAAKtC,UAAL;AACD;;AAEDuC,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AAC3B;AACAvB,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD;;AAEDuB,EAAAA,MAAM,GAAG;AACP;AAEA,wBAAO;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH,oBAAC,QAAD;AACI,MAAA,MAAM,EAAE,KAAKpC,KAAL,CAAWC,MADvB,CAGI;AAHJ;AAII,MAAA,QAAQ,EAAE,IAJd;AAKI,MAAA,SAAS,EAAE,KALf;AAMI,MAAA,aAAa,EAAE,CANnB;AAOI,MAAA,gBAAgB,EAAE,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,GAAf,EAAmB,GAAnB,EAAuB,IAAvB,EAA4B,GAA5B,EAAgC,IAAhC,CAPtB;AASI,MAAA,eAAe,EAAE,IATrB;AAUI,MAAA,cAAc,EAAE,IAVpB;AAWI,MAAA,SAAS,EAAE,IAXf;AAYI,MAAA,YAAY,EAAE,CAZlB;AAaI,MAAA,eAAe,EAAE,CAbrB;AAcI,MAAA,kBAAkB,EAAE,CAdxB;AAeI,MAAA,IAAI,EAAE,CAfV;AAgBI,MAAA,MAAM,EAAE,IAhBZ;AAiBI,MAAA,OAAO,EAAE;AAAC,gBAAO,CAAR;AAAU,eAAM,CAAhB;AAAkB,iBAAQ,CAA1B;AAA4B,kBAAS;AAArC,OAjBb;AAkBI,MAAA,SAAS,EAAE,IAlBf;AAmBI,MAAA,cAAc,EAAE,CAnBpB;AAoBI,MAAA,gBAAgB,EAAE,KApBtB;AAqBI,MAAA,YAAY,EAAE,CAAC;AAAEoC,QAAAA,GAAF;AAAOC,QAAAA;AAAP,OAAD,KAAwB;AAClCD,QAAAA,GAAG,CAAC,KAAKrC,KAAL,CAAWE,KAAX,CAAiBG,KAAlB,CAAH;AACAiC,QAAAA,SAAS,IAAIA,SAAS,CAACD,GAAV,CAAc,KAAKrC,KAAL,CAAWE,KAAX,CAAiBC,SAA/B,CAAb;AACH,OAxBL;AAyBI,MAAA,OAAO,EAAE,CAAC;AAAEF,QAAAA,MAAF;AAAUI,QAAAA,KAAV;AAAiBkC,QAAAA;AAAjB,OAAD,KAA6B;AAClC,cAAMC,eAAe,GAAGD,IAAI,CAACC,eAA7B;AAEA,aAAKxC,KAAL,CAAWE,KAAX,CAAiBC,SAAjB,GAA6BqC,eAA7B;AACA,aAAKxC,KAAL,CAAWE,KAAX,CAAiBG,KAAjB,GAAyBA,KAAzB;AACA,aAAKL,KAAL,CAAWC,MAAX,CAAkB0B,KAAlB,CAAwBC,SAAxB,GACO,aAAYY,eAAe,CAAC,CAAD,CAAI,OAAMA,eAAe,CAAC,CAAD,CAAI,KAAzD,GACC,UAASnC,KAAK,CAAC,CAAD,CAAI,KAAIA,KAAK,CAAC,CAAD,CAAI,GAFtC;AAGH,OAjCL;AAkCI,MAAA,UAAU,EAAE,CAAC;AAAEoC,QAAAA;AAAF,OAAD,KAAmB;AAC3B,YAAIA,SAAJ,EAAe;AACX,eAAKzC,KAAL,CAAWE,KAAX,CAAiBC,SAAjB,GAA6BsC,SAAS,CAACF,IAAV,CAAeC,eAA5C;AACA,eAAKxC,KAAL,CAAWE,KAAX,CAAiBG,KAAjB,GAAyBoC,SAAS,CAACpC,KAAnC;AACH;AACJ,OAvCL;AAwCI,MAAA,iBAAiB,EAAE,CAAC;AAAEiC,QAAAA;AAAF,OAAD,KAAmB;AAClCA,QAAAA,SAAS,IAAIA,SAAS,CAACD,GAAV,CAAc,KAAKrC,KAAL,CAAWE,KAAX,CAAiBC,SAA/B,CAAb;AACH,OA1CL;AA2CI,MAAA,YAAY,EAAE,CAAC;AAAEF,QAAAA,MAAF;AAAUsC,QAAAA,IAAV;AAAgBjC,QAAAA;AAAhB,OAAD,KAAuC;AACjD,aAAKN,KAAL,CAAWE,KAAX,CAAiBC,SAAjB,GAA6BoC,IAAI,CAACC,eAAlC;AACA,aAAKxC,KAAL,CAAWE,KAAX,CAAiBI,eAAjB,GAAmCA,eAAnC;AACH,OA9CL;AA+CI,MAAA,WAAW,EAAE,CAAC;AAAE+B,QAAAA;AAAF,OAAD,KAAa;AACtBA,QAAAA,GAAG,CAAC,KAAKrC,KAAL,CAAWE,KAAX,CAAiBC,SAAlB,CAAH;AACH,OAjDL;AAkDI,MAAA,MAAM,EAAE,CAAC;AAAEF,QAAAA,MAAF;AAAUuC,QAAAA;AAAV,OAAD,KAAiC;AACrC,aAAKxC,KAAL,CAAWE,KAAX,CAAiBC,SAAjB,GAA6BqC,eAA7B;AACH,OApDL;AAqDI,MAAA,aAAa,EAAE,CAAC;AAAEH,QAAAA;AAAF,OAAD,KAAa;AACxBA,QAAAA,GAAG,CAAC,KAAKrC,KAAL,CAAWE,KAAX,CAAiBE,MAAlB,CAAH;AACH,OAvDL;AAwDI,MAAA,QAAQ,EAAE,CAAC;AAAEsC,QAAAA;AAAF,OAAD,KAAsB;AAC5B,aAAK1C,KAAL,CAAWE,KAAX,CAAiBE,MAAjB,GAA0BsC,YAA1B;AACH,OA1DL;AA2DI,MAAA,QAAQ,EAAE,CAAC;AAAEzC,QAAAA;AAAF,OAAD,KAAgB;AACtB,cAAM;AAAEE,UAAAA,SAAF;AAAaC,UAAAA,MAAb;AAAqBC,UAAAA,KAArB;AAA4BC,UAAAA;AAA5B,YAAgD,KAAKN,KAAL,CAAWE,KAAjE;AACA,aAAKF,KAAL,CAAWC,MAAX,CAAkB0B,KAAlB,CAAwBrB,eAAxB,GAA0CA,eAA1C;AACA,aAAKN,KAAL,CAAWC,MAAX,CAAkB0B,KAAlB,CAAwBC,SAAxB,GAAqC,aAAYzB,SAAS,CAAC,CAAD,CAAI,OAAMA,SAAS,CAAC,CAAD,CAAI,KAA7C,GAC5B,WAAUC,MAAO,MADW,GACH,UAASC,KAAK,CAAC,CAAD,CAAI,KAAIA,KAAK,CAAC,CAAD,CAAI,GADhE;AACmE;AACtE,OAhEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,CAAP;AAoEH;;AA9KoD","sourcesContent":["import React, {Component} from 'react';\r\nimport Moveable from \"react-moveable\";\r\n\r\n\r\nexport default class CarUIMoveable extends Component { //<h1>{moveableTarget}</h1>;\r\n  constructor(props){\r\n    super(props);\r\n    this.resetState = this.resetState.bind(this);\r\n    this.resetStates = this.resetStates.bind(this);\r\n    this.frameFromStyle = this.frameFromStyle.bind(this);\r\n    this.extract = this.extract.bind(this);\r\n\r\n    this.state = {\r\n      target: null,\r\n      frame: {\r\n        translate: [0,0],\r\n        rotate: 0,\r\n        scale: [1,1],\r\n        transformOrigin: \"50% 50%\"\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  resetState() {\r\n    this.setState({\r\n      target: document.querySelector(\".\" + this.props.moveableTarget + \"\"),\r\n      frame: {\r\n        translate: [0,0],\r\n        scale: [1,1],\r\n        rotate: 0,\r\n        transformOrigin: \"50% 50%\"\r\n      }\r\n    });\r\n  }\r\n  resetStates(tempTarget) {\r\n    console.log('Old frame: ');\r\n    console.log(this.state.frame);\r\n    this.setState({\r\n      target: document.querySelector(\".\" + tempTarget + \"\"),\r\n      frame: this.frameFromStyle(tempTarget)\r\n    });\r\n  }\r\n\r\n  extract(inputString, matchString) {\r\n    var output = {};\r\n    var variables = matchString.match(/\\${.*?}/g)\r\n    var split = matchString.split(/\\${.*?}/g)\r\n    for (var i = 0; i < variables.length; i++) {\r\n      variables[i] = variables[i].replace(\"${\", \"\").replace(\"}\", \"\")\r\n    }\r\n    for (var i = 0; i < split.length; i++) {\r\n      var beginIndex = inputString.indexOf(split[i])+split[i].length;\r\n      inputString = inputString.substring(beginIndex);\r\n      var endIndex = 0;\r\n      try {\r\n        endIndex = inputString.indexOf(split[i+1])+1\r\n      } catch\r\n      {\r\n        endIndex = inputString.length;\r\n      }\r\n      output[variables[i]] = inputString.substring(0, endIndex);\r\n    }\r\n    return output;\r\n  }\r\n\r\n  frameFromStyle(tempTarget) {\r\n    var frame = null;\r\n    try {\r\n      console.log('Trying')\r\n      var transformOrigin = document.querySelector(\".\" + tempTarget + \"\").style.transformOrigin;\r\n      var transform = document.querySelector(\".\" + tempTarget + \"\").style.transform;\r\n\r\n      var transformValues = this.extract(transform, \"translate(${translate[0]}px, ${translate[1]}px)\"\r\n          +  \" rotate(${rotate}deg)\"+ \" scale(${scale[0]}, ${scale[1]})\")\r\n      console.log('Results of transform values');\r\n      console.log(transformValues)\r\n      frame = {\r\n        translate: [parseInt(transformValues[\"translate[0]\"]), parseInt(transformValues[\"translate[1]\"])],\r\n        scale: [parseInt(transformValues[\"scale[0]\"]), parseInt(transformValues[\"scale[1]\"])],\r\n        rotate: parseFloat(transformValues[\"rotate\"]),\r\n        transformOrigin: transformOrigin\r\n      }\r\n      console.log('New frame: ')\r\n      console.log(frame)\r\n      throw 'ee'\r\n    } catch(e) {\r\n      console.log(`Caught ${e}`)\r\n      frame = {\r\n        translate: this.state.frame.translate,//[0,0],\r\n        scale: this.state.frame.scale,//[1,1],\r\n        rotate: this.state.frame.rotate,//0,\r\n        transformOrigin: this.state.frame.transformOrigin//\"50% 50%\"\r\n      }\r\n    }\r\n    return frame;\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.resetState();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    // this.target = document.querySelector(\".jim\")\r\n    console.log(\"updating!\")\r\n  }\r\n\r\n  render() {\r\n    // put 1 below:  <div className=\"target\">Target</div>\r\n\r\n    return <div className=\"container\">\r\n        <Moveable\r\n            target={this.state.target}\r\n\r\n            //Scaleable\r\n            scalable={true}\r\n            keepRatio={false}\r\n            throttleScale={0}\r\n            renderDirections={[\"nw\",\"n\",\"ne\",\"w\",\"e\",\"sw\",\"s\",\"se\"]}\r\n\r\n            originDraggable={true}\r\n            originRelative={true}\r\n            draggable={true}\r\n            throttleDrag={0}\r\n            startDragRotate={0}\r\n            throttleDragRotate={0}\r\n            zoom={1}\r\n            origin={true}\r\n            padding={{\"left\":0,\"top\":0,\"right\":0,\"bottom\":0}}\r\n            rotatable={true}\r\n            throttleRotate={0}\r\n            rotationPosition={\"top\"}\r\n            onScaleStart={({ set, dragStart }) => {\r\n                set(this.state.frame.scale);\r\n                dragStart && dragStart.set(this.state.frame.translate);\r\n            }}\r\n            onScale={({ target, scale, drag }) => {\r\n                const beforeTranslate = drag.beforeTranslate;\r\n\r\n                this.state.frame.translate = beforeTranslate;\r\n                this.state.frame.scale = scale;\r\n                this.state.target.style.transform\r\n                    = `translate(${beforeTranslate[0]}px, ${beforeTranslate[1]}px)`\r\n                    + ` scale(${scale[0]}, ${scale[1]})`;\r\n            }}\r\n            onScaleEnd={({ lastEvent }) => {\r\n                if (lastEvent) {\r\n                    this.state.frame.translate = lastEvent.drag.beforeTranslate;\r\n                    this.state.frame.scale = lastEvent.scale;\r\n                }\r\n            }}\r\n            onDragOriginStart={({ dragStart }) => {\r\n                dragStart && dragStart.set(this.state.frame.translate);\r\n            }}\r\n            onDragOrigin={({ target, drag, transformOrigin }) => {\r\n                this.state.frame.translate = drag.beforeTranslate;\r\n                this.state.frame.transformOrigin = transformOrigin;\r\n            }}\r\n            onDragStart={({ set }) => {\r\n                set(this.state.frame.translate);\r\n            }}\r\n            onDrag={({ target, beforeTranslate }) => {\r\n                this.state.frame.translate = beforeTranslate;\r\n            }}\r\n            onRotateStart={({ set }) => {\r\n                set(this.state.frame.rotate);\r\n            }}\r\n            onRotate={({ beforeRotate }) => {\r\n                this.state.frame.rotate = beforeRotate;\r\n            }}\r\n            onRender={({ target }) => {\r\n                const { translate, rotate, scale, transformOrigin } = this.state.frame;\r\n                this.state.target.style.transformOrigin = transformOrigin;\r\n                this.state.target.style.transform = `translate(${translate[0]}px, ${translate[1]}px)`\r\n                    +  ` rotate(${rotate}deg)`+ ` scale(${scale[0]}, ${scale[1]})`;;\r\n            }}\r\n        />\r\n    </div>;\r\n}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}