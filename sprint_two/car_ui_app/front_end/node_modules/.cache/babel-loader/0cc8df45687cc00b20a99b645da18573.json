{"ast":null,"code":"var _jsxFileName = \"/Users/maxmacaluso/Desktop/General/Academic/CU/CS/4830HMI/Team-Matrix/sprint_two/car_ui_app/front_end/src/components/ImageSelector.js\";\nimport React, { useState, useEffect } from 'react';\nimport FileUpload from '../components/FileUpload';\nimport { getProfile } from '../actions/profile';\n\nconst ImageSelector = props => {\n  const [tock, setTock] = useState(false);\n  const [defaultImages, setDefaultImages] = useState(null);\n  const [userImages, setUserImages] = useState(null);\n  const user_token = localStorage.getItem('user_token');\n\n  function fetchImages() {\n    getProfile().then(res => {\n      const profile_id = res.profile_id;\n      fetch(`${BASE_API_URL}/userUploadedImages?access_token=${user_token}`).then(response => {\n        return response.text();\n      }).then(data => {\n        try {\n          setUserImages(JSON.parse(data).map(d => /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 53\n            }\n          }, /*#__PURE__*/React.createElement(\"li\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 58\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            onClick: () => props.imageChosen(`${BASE_API_URL}/uploads/profile_` + profile_id + \"/\" + d),\n            src: `${BASE_API_URL}/uploads/profile_` + profile_id + \"/\" + d,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 62\n            }\n          })))));\n        } catch (e) {\n          console.log(e);\n        } // setUserImages(data);\n\n\n        console.log(userImages);\n      });\n    }); // fetch(`http://localhost:3001/userUploadedImages?access_token=${user_token}`).then(res => {\n    //   setUserImages(res);\n    // }).catch(err => {\n    //   console.log(err);\n    // })\n\n    fetch(`${BASE_API_URL}/defaultImages`).then(response => {\n      return response.text();\n    }).then(data => {\n      try {\n        setDefaultImages(JSON.parse(data).map(d => /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 54\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 59\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          onClick: () => props.imageChosen(`${BASE_API_URL}/uploads/` + d),\n          src: `${BASE_API_URL}/uploads/` + d,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 63\n          }\n        })))));\n      } catch (e) {\n        console.log(e);\n      }\n    }); //setDefaultImages(data);\n\n    console.log(defaultImages);\n  }\n\n  function onSuccessfulImageUpload() {\n    console.log(\"he\");\n    fetchImages();\n  }\n\n  useEffect(() => {\n    if (tock == 0) {\n      fetchImages();\n    }\n\n    setTock(1);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Default Images\"), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, defaultImages ? defaultImages : \"No iamges here!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"User Images\"), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, userImages ? userImages : \"No iamges here!\"), /*#__PURE__*/React.createElement(FileUpload, {\n    onSuccessfulUpload: onSuccessfulImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      'color': props.skinColour\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ImageSelector;","map":{"version":3,"sources":["/Users/maxmacaluso/Desktop/General/Academic/CU/CS/4830HMI/Team-Matrix/sprint_two/car_ui_app/front_end/src/components/ImageSelector.js"],"names":["React","useState","useEffect","FileUpload","getProfile","ImageSelector","props","tock","setTock","defaultImages","setDefaultImages","userImages","setUserImages","user_token","localStorage","getItem","fetchImages","then","res","profile_id","fetch","BASE_API_URL","response","text","data","JSON","parse","map","d","imageChosen","e","console","log","onSuccessfulImageUpload","skinColour"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport FileUpload from '../components/FileUpload';\nimport { getProfile } from '../actions/profile';\n\n\n\nconst ImageSelector = (props) => {\n  const [tock, setTock] = useState(false);\n  const [defaultImages, setDefaultImages] = useState(null);\n  const [userImages, setUserImages] = useState(null);\n  const user_token = localStorage.getItem('user_token');\n\n  function fetchImages() {\n    getProfile().then(res => {\n      const profile_id = res.profile_id;\n      fetch(`${BASE_API_URL}/userUploadedImages?access_token=${user_token}`).then(response => {\n              return response.text();\n      })\n      .then(data => {\n        try {                                                                             \n          setUserImages(JSON.parse(data).map((d) => <div><li><img onClick={() => props.imageChosen(`${BASE_API_URL}/uploads/profile_`+profile_id+\"/\"+d)} src={`${BASE_API_URL}/uploads/profile_`+profile_id+\"/\"+d}/></li></div>));\n        } catch(e) {\n          console.log(e);\n        }\n        // setUserImages(data);\n        console.log(userImages);\n      });\n    })\n    // fetch(`http://localhost:3001/userUploadedImages?access_token=${user_token}`).then(res => {\n    //   setUserImages(res);\n    // }).catch(err => {\n    //   console.log(err);\n    // })\n\n    fetch(`${BASE_API_URL}/defaultImages`).then(response => {\n            return response.text();\n    })\n    .then(data => {\n      try \n      {                                                                                             \n        setDefaultImages(JSON.parse(data).map((d) => <div><li><img onClick={() => props.imageChosen(`${BASE_API_URL}/uploads/`+d)} src={`${BASE_API_URL}/uploads/`+d} /></li></div>));\n      } \n      catch(e) \n      {\n        console.log(e);\n      }\n    });\n\n      //setDefaultImages(data);\n      console.log(defaultImages);\n  }\n\n  function onSuccessfulImageUpload () {\n    console.log(\"he\")\n    fetchImages()\n  }\n\n  useEffect(() => {\n    if (tock == 0) {\n      fetchImages()\n    }\n    setTock(1)\n\n\n  });\n\n\n  return (\n    <div>\n      <h3>Default Images</h3>\n      <ul class=\"images\">\n      {defaultImages ? defaultImages : \"No iamges here!\"}\n      </ul>\n      <h3>User Images</h3>\n      <ul class=\"images\">\n      {userImages ? userImages : \"No iamges here!\"}\n      </ul>\n      <FileUpload onSuccessfulUpload = {onSuccessfulImageUpload}/>\n      <div style={{'color': props.skinColour}}></div>\n      {/*<button onClick={props.imageChosen('hello')}>Click ME </button>*/}\n\n    </div>\n  )\n}\n\nexport default ImageSelector\n"]},"metadata":{},"sourceType":"module"}