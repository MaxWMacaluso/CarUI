/*
Copyright (c) 2019 Daybrush
name: @scena/dragscroll
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/dragscroll.git
version: 0.2.1
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@egjs/component"),require("@daybrush/utils")):"function"==typeof define&&define.amd?define(["@egjs/component","@daybrush/utils"],e):(t=t||self).DragScroll=e(t.Component,t.utils)}(this,function(t,_){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function P(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}return function(e){function t(){this.constructor=i}var i,r;function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.startRect=null,t.startPos=[],t.prevTime=0,t.timer=0,t}s(i=o,r=e),i.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t);var n=o.prototype;return n.dragStart=function(t,e){var i=e.container.getBoundingClientRect(),r=i.top,o=i.left,n=i.width,s=i.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:r,left:o,width:n,height:s}},n.drag=function(t,e){var i=this,r=t.clientX,o=t.clientY,n=e.container,s=e.threshold,c=void 0===s?0:s,u=e.throttleTime,a=void 0===u?0:u,f=e.getScrollPosition,l=void 0===f?P:f,h=this.startRect,p=this.startPos,d=_.now(),m=Math.max(a+this.prevTime-d,0),g=[0,0];if(h.top>o-c?(p[1]>h.top||o<p[1])&&(g[1]=-1):h.top+h.height<o+c&&(p[1]<h.top+h.height||o>p[1])&&(g[1]=1),h.left>r-c?(p[0]>h.left||r<p[0])&&(g[0]=-1):h.left+h.width<r+c&&(p[0]<h.left+h.width||r>p[0])&&(g[0]=1),clearTimeout(this.timer),!g[0]&&!g[1])return!1;if(0<m)return this.timer=window.setTimeout(function(){i.drag(t,e)},m),!1;this.prevTime=d;var v=l({container:n,direction:g});this.trigger("scroll",{container:n,direction:g,inputEvent:t});var y=l({container:n,direction:g}),w=y[0]-v[0],T=y[1]-v[1];return!(!w&&!T)&&(this.trigger("move",{offsetX:g[0]?w:0,offsetY:g[1]?T:0,inputEvent:t}),a&&(this.timer=window.setTimeout(function(){i.drag(t,e)},a)),!0)},n.dragEnd=function(){clearTimeout(this.timer)},o}(t)});
//# sourceMappingURL=dragscroll.min.js.map
